<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Debug Wetterseite</title>
  <script>
    async function testCoords() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(async pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&timezone=auto`;
          console.log("Lade URL:", url);

          try {
            const res = await fetch(url);
            const json = await res.json();
            console.log("Antwort JSON:", json);
            document.body.innerHTML = `<pre>${JSON.stringify(json, null, 2)}</pre>`;
          } catch (e) {
            console.error("Fetch-Fehler:", e);
            document.body.innerHTML = `<p style='color:red;'>Fehler beim Abrufen: ${e.message}</p>`;
          }
        }, err => {
          console.error("Geo-Fehler:", err);
          document.body.innerHTML = `<p style='color:red;'>Geolocation fehlgeschlagen: ${err.message}</p>`;
        });
      } else {
        document.body.innerHTML = "Geolocation nicht unterst√ºtzt.";
      }
    }
    window.onload = testCoords;
  </script>
</head>
<body>
  <p>Wetterdaten werden geladen...</p>
</body>
</html>
